/*!
  * Simple-Jekyll-Search
  * Copyright 2015-2024, Christian Fei
  * Licensed under the MIT License.
  */
!function(){"use strict";var i={compile:function(r){return o.template.replace(o.pattern,function(e,t){var n=o.middleware(t,r[t],o.template);return void 0!==n?n:r[t]||e})},setOptions:function(e){o.pattern=e.pattern||o.pattern,o.template=e.template||o.template,"function"==typeof e.middleware&&(o.middleware=e.middleware)}};const o={};o.pattern=/\{(.*?)\}/g,o.template="",o.middleware=function(){};var n=function(e,t){var n=t.length,r=e.length;if(n<r)return!1;if(r===n)return e===t;e:for(var o=0,i=0;o<r;o++){for(var u=e.charCodeAt(o);i<n;)if(t.charCodeAt(i++)===u)continue e;return!1}return!0},t=new function(){this.matches=function(e,t){return null!==e&&n(t.toLowerCase(),e.toLowerCase())}};var r=new function(){this.matches=function(t,e){return!!t&&(t=t.trim().toLowerCase(),(e=e.endsWith(" ")?[e.toLowerCase()]:e.trim().toLowerCase().split(" ")).filter(e=>0<=t.indexOf(e)).length===e.length)}};var u={put:function(e){if(f(e))return d(e);if(function(e){return Boolean(e)&&"[object Array]"===Object.prototype.toString.call(e)}(e))return function(n){var r=[];l();for(let e=0,t=n.length;e<t;e++)f(n[e])&&r.push(d(n[e]));return r}(e);return undefined},clear:l,search:function(e){return e?function(t,n,r,o){var i=[];for(let e=0;e<t.length&&i.length<o.limit;e++){var u=function(e,t,n,r){for(const o in e)if(!function(n,r){for(let e=0,t=r.length;e<t;e++){var o=r[e];if(new RegExp(o).test(n))return 1}return}(e[o],r.exclude)&&n.matches(e[o],t))return e}(t[e],n,r,o);u&&i.push(u)}return i}(a,e,s.searchStrategy,s).sort(s.sort):[]},setOptions:function(e){(s=e||{}).fuzzy=e.fuzzy||!1,s.limit=e.limit||10,s.searchStrategy=e.fuzzy?t:r,s.sort=e.sort||c,s.exclude=e.exclude||[]}};function c(){return 0}const a=[];let s={};function l(){return a.length=0,a}function f(e){return Boolean(e)&&"[object Object]"===Object.prototype.toString.call(e)}function d(e){return a.push(e),a}s.fuzzy=!1,s.limit=10,s.searchStrategy=s.fuzzy?t:r,s.sort=c,s.exclude=[];var p={load:function(e,t){var n=window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");n.open("GET",e,!0),n.onreadystatechange=h(n,t),n.send()}};function h(t,n){return function(){if(4===t.readyState&&200===t.status)try{n(null,JSON.parse(t.responseText))}catch(e){n(e,null)}}}var e=function z(e){if(!((t=e)&&"undefined"!=typeof t.required&&t.required instanceof Array))throw new Error("-- OptionsValidator: required options missing");var t;if(!(this instanceof z))return new z(e);const r=e.required;this.getRequiredOptions=function(){return r},this.validate=function(t){const n=[];return r.forEach(function(e){"undefined"==typeof t[e]&&n.push(e)}),n}},m={merge:function(e,t){var n={};for(const r in e)n[r]=e[r],"undefined"!=typeof t[r]&&(n[r]=t[r]);return n},isJSON:function(e){try{return e instanceof Object&&JSON.parse(JSON.stringify(e))?!0:!1}catch(t){return!1}}};{var w=window;let o={searchInput:null,resultsContainer:null,json:[],success:Function.prototype,searchResultTemplate:'<li><a href="{url}" title="{desc}">{title}</a></li>',templateMiddleware:Function.prototype,sortMiddleware:function(){return 0},noResultsText:"No results found",limit:10,fuzzy:!1,debounceTime:null,exclude:[],onSearch:Function.prototype},n;const T=function(e,t){t?(clearTimeout(n),n=setTimeout(e,t)):e.call()},x=["searchInput","resultsContainer","json"],j=e({required:x});function y(e){u.put(e),o.searchInput.addEventListener("input",function(e){-1===[13,16,20,37,38,39,40,91].indexOf(e.which)&&(g(),T(function(){O(e.target.value)},o.debounceTime))})}function g(){o.resultsContainer.innerHTML=""}function v(e){o.resultsContainer.innerHTML+=e}function O(e){var t;(t=e)&&0<t.length&&(g(),function(t,n){var r=t.length;if(0===r)return v(o.noResultsText);for(let e=0;e<r;e++)t[e].query=n,v(i.compile(t[e]))}(u.search(e),e),"function"==typeof o.onSearch)&&o.onSearch.call()}function S(e){throw new Error("SimpleJekyllSearch --- "+e)}w.SimpleJekyllSearch=function(e){0<j.validate(e).length&&S("You must specify the following required options: "+x),o=m.merge(o,e),i.setOptions({template:o.searchResultTemplate,middleware:o.templateMiddleware}),u.setOptions({fuzzy:o.fuzzy,limit:o.limit,sort:o.sortMiddleware,exclude:o.exclude}),m.isJSON(o.json)?y(o.json):(n=o.json,p.load(n,function(e,t){e&&S("failed to get JSON ("+n+")"),y(t)}));var n,e={search:O};return"function"==typeof o.success&&o.success.call(e),e}}}();